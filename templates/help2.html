<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>E-tax En Familia</title>
  
  <!-- Bootstrap CSS -->
  <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Custom fonts for this template-->
  <link href="static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  
  <!-- Page level plugin CSS-->
  <link href="static/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">
  
  <!-- Custom styles for this template-->
  <link href="static/css/sb-admin.css" rel="stylesheet">
  <link href="static/css/sidebar-mit.css" rel="stylesheet" type="text/css">
  
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">

 <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    
   

  
<style>

/*
Make bootstrap-select work with bootstrap 4 see:
https://github.com/silviomoreto/bootstrap-select/issues/1135
*/
.dropdown-toggle.btn-default {
  color: #292b2c;
  background-color: #fff;
  border-color: #ccc;
  text-align: left;
  border: none;
  border-radius: 0px;
}
.dropdown-toggle.btn-default:focus,
.dropdown-toggle.btn-default:hover{
  color: #292b2c;
  background-color: #fff;
  border-color: #ccc;
  text-align: left;
  border: none;
  border-radius: 0px;
}
.bootstrap-select.show>.dropdown-menu>.dropdown-menu {
  display: block;
}

.bootstrap-select > .dropdown-menu > .dropdown-menu li.hidden{
  display:none;
}

.bootstrap-select > .dropdown-menu > .dropdown-menu li a{
  display: block;
  width: 100%;
  padding: 3px 1.5rem;
  clear: both;
  font-weight: 400;
  color: #292b2c;
  text-align: inherit;
  white-space: nowrap;
  background: 0 0;
  border: 0;
}

.dropdown-menu > li.active > a {
  color: #fff !important;
  background-color: #3f51b5 !important;
}

.bootstrap-select .check-mark::after {
  content: "âœ“";
}
.bootstrap-select button {
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Make filled out selects be the same size as empty selects */
.bootstrap-select.btn-group .dropdown-toggle .filter-option {
  display: inline !important;
}

</style>

</head>




<body class="fixed-nav sticky-footer"  id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: #2960a1"  id="mainNav">
    <a class="navbar-brand" href="index.html"> <img style="width:45%;height:30%; opacity: 0.8"src="/static/img/logo-etax-transparente.png" alt="E-tax"></img> </a>
    <!-- BOTON QUE SALE CUANDO SE PONE PEQUENA LA PANTALLA -->
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <!-- NAVA BAR COMPLETO -->
    <div class="collapse navbar-collapse"   id="navbarResponsive">
    
      <!-- -------------- -->
      <!-- COSAS SIDE BAR -->
      <ul class="navbar-nav navbar-sidenav" style="background-color: #2960a1" id="exampleAccordion">
        <a style="margin: 1% 0 0 3%">
	        <img class="nav-item rounded-circle d-flex" data-toggle="tooltip" data-placement="right" id="profile_pic" style="width: 55%; max-width: 250px" src="static/img/user_profile"></img>
	        <div>
	        <div style="background-color: #FFFFFF; text-align: center; padding: 0 0% 0 0%; border-radius: 27px; width: 40%; margin: -1% 0 0 7%">
	        <span  id="current_name" class="nav-link-text" style="color: #505050">Name </span> </div>
	        </div>
        <a >
        <!-- <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
          <a class="nav-link sidebar2" href="index.html">
            <i class="fa fa-fw fa-dashboard" style="color: #F0F0F0"></i>
            <span class="nav-link-text" style="color: #F0F0F0"> <b> Dashboard</b></span>
          </a>
        </li> -->
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Projects">
          <a class="nav-link sidebar2" href="/projects">
            <i class="fa fa-fw a fa-handshake-o" style="color: #F0F0F0"></i>
            <span class="nav-link-text" style="color: #F0F0F0"> <b> Projects</b> </span>
          </a>
        </li>
        
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Help">
          <a class="nav-link sidebar2" href="help">
            <i class="fa fa-fw fa-question" style="color: #F0F0F0"></i>
            <span class="nav-link-text" style="color: #F0F0F0"> <b> Help</b></span>
          </a>
        </li>
        </a>
        </a>
        
      </ul>
      
      <!-- LO QUE HACE QUE SE CIERRE EL SIDE BAR -->
      <ul class="navbar-nav sidenav-toggler" style="background-color: #164987" >
        <li class="nav-item">
          <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
          </a>
        </li>
      </ul>
      
      <!-- NAV BAR DE ARRIBA -->
      <ul class="navbar-nav ml-auto" style="background-color: #2960a1" >
        
        <li class="nav-item">
        	
          <a class="nav-link" data-toggle="modal" data-target="#exampleModal">
            <i class="fa fa-fw fa-sign-out"></i>Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  
  	<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
  	<!-- AREA BLANCA PARA MOSTRAR OPCIONES -->
  	<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->


	<div class="content-wrapper">
		<div class="container-fluid">

			 
<div class="row" >
				<div class="col-sm-12" style=" z-index: 1024; background-color: #FFFFFF; margin: -1% 0 0 0%;" >
					<div class="row">
					
						<div class="col-sm-12 mb-0 mt-4" style="">
				  		<h2>Help Center</h2>
				  	</div>
				  	
					</div>
					
				</div>
			</div>

    <div class="input-group mb-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id="basic-addon1"><i class="fa fa-search"></i></span>
  </div>
  <input type="text" id="search-criteria" class="form-control" placeholder="Search" aria-label="Username" aria-describedby="basic-addon1">
</div>

<div id="accordion">

<div class="card">
<div class="card-header" id="headingOne">
  <h5 class="mb-0">
    <i class="fa fa-question-circle"></i>
    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
     Add a Project
    </button>
  </h5>
</div>

<div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
  <div class="card-body">
  Adding Project can help you keep track of them:
  <br/>
  <ol>
    <li>To add a project click the <strong>Projects</strong> option in the left side Bar.</li>
    <li>In the projects view, select the <strong>add project button in top right corner.</strong></li>
    <br/>
    <img style="width: 900px; height: 400px;"src="/static/img/help.png" alt="projects">
  </ol>

  </div>
</div>
</div>

<div class="card">
<div class="card-header" id="headingTwo">
  <h5 class="mb-0">
    <i class="fa fa-question-circle"></i>
    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
      Delete a Project
    </button>
  </h5>
</div>

<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
  <div class="card-body">
    Be careful when deleting Projects since they cannot be recovered after being deleted:
    <br/>
    <ol>

      <li>To delete a project click the <strong>Projects</strong> option in the left side Bar.</li>
      <li>In the projects view, select the <strong>delete project button</strong> at the right side of the project you want to delete.</li>
      <li>A confirmation message will appear before proceeding to delete the project.</li>
      <br/>
      <img style="width: 900px; height: 400px;"src="/static/img/help.png" alt="projects">
    </ol>
  </div>
</div>
</div>
<div class="card">
<div class="card-header" id="headingThree">
  <h5 class="mb-0">
    <i class="fa fa-question-circle"></i>
    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
    Edit a Project
    </button>
  </h5>
</div>
<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
  <div class="card-body">
    Editing Projects can help you make updates to them in case changes occur:
    <br/>
    <ol>
      <li>To edit a project click the <strong>Projects</strong> option in the left side Bar.</li>
      <li>In the projects view, select the <strong>edit project button</strong> at the right side of the project you want to delete.</li>
      <br/>
      <img style="width: 900px; height: 400px;"src="/static/img/help.png" alt="projects">
    </ol>
  </div>
</div>
</div>
</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
    $("#search-criteria").on("keyup", function() {
    var g = $(this).val().toLowerCase();
    // $(".fbbox .fix label").each(function()
       $(".card .card-header .mb-0 button").each(function(){
        var s = $(this).text().toLowerCase();
        $(this).closest('.card')[ s.indexOf(g) !== -1 ? 'show' : 'hide' ]();
    });
});
    </script>


 		</div>
  </div>
  
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">Ã—</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
          <a class="btn btn-secondary" href="/userLogout">Logout</a>
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
	</div>

  

    
      <!-- Bootstrap core JavaScript-->
    <script src="static/vendor/jquery/jquery.min.js"></script>
    <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    
    <!-- Core plugin JavaScript-->
    <script src="static/vendor/jquery-easing/jquery.easing.min.js"></script>
    
    
    <!-- Custom scripts for all pages, se encarga de que el sidebar sea hideble-->
    <script src="static/js/sb-admin.min.js"></script>
    
     <script>
    
		var userProjects = [];
		
		var http = new XMLHttpRequest();
			http.onreadystatechange = function(){
		   if(this.readyState == 4 && this.status == 200){	
		    	window.userProjects = JSON.parse(this.responseText);
		    	setProjects();
	     }else if (this.readyState == 4){
			 	  
			 }  
			};
			http.open("GET", "/getProjectsForUser", true);
			http.send(null);
			
		//========================================================================
		//PROJECT CREATION
		//========================================================================
		var new_project_data = {};
		function sendDataForProject(){
			var http = new XMLHttpRequest();
			  http.onreadystatechange = function(){
			      if(this.readyState == 4 && this.status == 200){
			    	  window.location.href = '/projects';
			    	  
			      }else if (this.readyState == 4){
			    	  
			      }  
			  };
			  http.open("POST", "/addNewProject", true);
			  http.setRequestHeader("Content-type", "application/json");
			  http.send(JSON.stringify(new_project_data));
		}
		
		function createNewProject(){

			 var e = document.getElementById("project_members_selected");
			 
			 var miembros = [];
			 for (i = 0; i < e.length; i++){
				 if(e.options[i].selected){
				 	miembros.push(e.options[i].text);
				 }
			 }
			 new_project_data["members"] = miembros;
			 
			 var tempt = document.getElementById("project_name").value;
			 new_project_data["name"] = document.getElementById("project_name").value;
			 new_project_data["deadline"] = document.getElementById("project_deadline").value;
			 new_project_data["person_to_approve"] = document.getElementById("project_approved_person").value;
			 new_project_data["importance"] = document.getElementById("project_importance").value;
			 new_project_data["description"] = document.getElementById("project_description").value;
			 
			 var media_channel = []
			 if(document.getElementById("facebook").checked){
		   	media_channel.push("FaceBook");
		   }
			 if(document.getElementById("email").checked){
				   	media_channel.push("E-mail");
			 }
			 if(document.getElementById("newspaper").checked){
				   	media_channel.push("Newspaper");
			 }
			 new_project_data["media_channel"] = media_channel;
			 
			
			 //validation
			 var validation_pass = true;
			 if(tempt == ""){
				  document.getElementById("project_name").style.backgroundColor = "#fff5f5";
				  document.getElementById("project_name").style.borderColor     = "#d53f3f";
				  document.getElementById("project_name").style.borderWidth     = "2px"
				  document.getElementById("project_name").style.color           = "#0";
				  validation_pass = false;
				  
			 }
			
			 if(miembros.length <= 0){
				  document.getElementById("project_members_selected_div").style.backgroundColor = "#fff5f5";
				  document.getElementById("project_members_selected_div").style.borderColor     = "#d53f3f";
				  document.getElementById("project_members_selected_div").style.borderWidth     = "2px";
				  document.getElementById("project_members_selected_div").style.color           = "#0";
				  document.getElementById("project_members_selected_div").style.borderStyle     = "groove";
				  document.getElementById("project_members_selected_div").style.borderRadius     = "3px";
				  document.getElementById("project_members_selected").style.background     = "#fff5f5";
				  validation_pass = false;
			 }
			 
			 if(validation_pass){
				 document.getElementById("addBtn").setAttribute('data-content',`
						  <button class="btn  btn-secondary btn-xs" onClick="sendDataForProject()" type="button" >Confirm</button>
						  	<button id="popOverCancel"  onClick="closeNewProjectPopOver()" class="btn  btn-secondary btn-xs" type="button" >Cancel</button> 
				 `);
				 
				 $('#addBtn').popover('show');
				 
			 }else{
				 addValidationMessage();
			 }

		}
		
		
		function addValidationMessage(){
			//document.getElementById('add_project_validation_message').className += 'modal-footer';
			document.getElementById('add_project_validation_message').style.textAlign = "right";
			document.getElementById('add_project_validation_message').style.margin = "-3% 2% 2% 0%";
			document.getElementById('add_project_validation_message').innerHTML = `
				<strong class="small" style="color: red;"> **Some required fields are empty</strong>
			
			`;
			
		}
		
		//=============================================================================
		//		DELETE PROJECT	
	  //=============================================================================
		function deleteProject(project_name){
			var temp_json = {};
			temp_json['id'] = project_name;
			var http = new XMLHttpRequest();
			  http.onreadystatechange = function(){
			      if(this.readyState == 4 && this.status == 200){
			    	  window.location.href = '/projects';
			    	  
			      }else if (this.readyState == 4){
			    	  
			      }  
			  };
			  http.open("POST", "/deleteProject", true);
			  http.setRequestHeader("Content-type", "application/json");
			  http.send(JSON.stringify(temp_json));
			  
			
		}
		
		function deleteProjectPopOver(project_name){
			 document.getElementById("deleteProject" + project_name).setAttribute('data-content',`
					  <button class="btn  btn-secondary btn-xs" onClick= ` + "\"deleteProject('" +  project_name  + "')\"" + ` type="button" >Confirm</button>
					  	<button id="popOverCancel"  onClick=` + "\"closeDeletePopOver('" +  project_name  + "')\"" + ` class="btn  btn-secondary btn-xs" type="button" >Cancel</button> 
			 `);
			$('#deleteProject' + project_name).popover('show');
		}
		function closeDeletePopOver(project_name){
			$('#deleteProject' + project_name).popover('hide');
		}
		
		
		//=============================================================================
		//		EDIT PROJECT	
	  //=============================================================================
		  
		function sendDataForEditProject(){
			var temp_json = {};
			temp_json['id'] = document.getElementById('edit_project_id').value;
			var http = new XMLHttpRequest();
			  http.onreadystatechange = function(){
			      if(this.readyState == 4 && this.status == 200){
			    	  
			      }else if (this.readyState == 4){
			    	  
			      }  
			  };
			  http.open("POST", "/deleteProject", true);
			  http.setRequestHeader("Content-type", "application/json");
			  http.send(JSON.stringify(temp_json));
			  
			  
			var http = new XMLHttpRequest();
			  http.onreadystatechange = function(){
			      if(this.readyState == 4 && this.status == 200){
			    	  window.location.href = '/projects';
			    	  
			      }else if (this.readyState == 4){
			    	  
			      }  
			  };
			  http.open("POST", "/addNewProject", true);
			  http.setRequestHeader("Content-type", "application/json");
			  http.send(JSON.stringify(new_project_data));
		}
		
		function editValidationMessage(){
			//document.getElementById('add_project_validation_message').className += 'modal-footer';
			document.getElementById('edit_project_validation_message').style.textAlign = "right";
			document.getElementById('edit_project_validation_message').style.margin = "-3% 2% 2% 0%";
			document.getElementById('edit_project_validation_message').innerHTML = `
				<strong class="small" style="color: red;"> **Some required fields are empty</strong>
			
			`;
			
		}
		
		function editProjectPopout(){
			var e = document.getElementById("edit_project_members_selected");
			 
			 var miembros = [];
			 for (i = 0; i < e.length; i++){
				 if(e.options[i].selected){
				 	miembros.push(e.options[i].text);
				 }var e = document.getElementById("edit_project_members_selected");
				 
				 var miembros = [];
				 for (i = 0; i < e.length; i++){
					 if(e.options[i].selected){
					 	miembros.push(e.options[i].text);
					 }
				 }
				 new_project_data["members"] = miembros;
				 
				 var tempt = document.getElementById("edit_project_name").value;
				 new_project_data["name"] = document.getElementById("edit_project_name").value;
				 new_project_data["deadline"] = document.getElementById("edit_project_deadline").value;
				 new_project_data["person_to_approve"] = document.getElementById("edit_project_approved_person").value;
				 new_project_data["importance"] = document.getElementById("edit_project_importance").value;
				 new_project_data["description"] = document.getElementById("edit_project_description").value;
				 
				 var media_channel = []
				 if(document.getElementById("edit_facebook").checked){
			   	media_channel.push("facebook");
			   }
				 if(document.getElementById("edit_email").checked){
					   	media_channel.push("email");
				 }
				 if(document.getElementById("edit_newspaper").checked){
					   	media_channel.push("newspaper");
				 }
				 new_project_data["media_channel"] = media_channel;
				 
				
				 //validation
				 var validation_pass = true;
				 if(tempt == ""){
					  document.getElementById("edit_project_name").style.backgroundColor = "#fff5f5";
					  document.getElementById("edit_project_name").style.borderColor     = "#d53f3f";
					  document.getElementById("edit_project_name").style.borderWidth     = "2px"
					  document.getElementById("edit_project_name").style.color           = "#0";
					  validation_pass = false;
					  
				 }
				
				 if(miembros.length <= 0){
					  document.getElementById("edit_project_members_selected_div").style.backgroundColor = "#fff5f5";
					  document.getElementById("edit_project_members_selected_div").style.borderColor     = "#d53f3f";
					  document.getElementById("edit_project_members_selected_div").style.borderWidth     = "2px";
					  document.getElementById("edit_project_members_selected_div").style.color           = "#0";
					  document.getElementById("edit_project_members_selected_div").style.borderStyle     = "groove";
					  document.getElementById("edit_project_members_selected_div").style.borderRadius     = "3px";
					  document.getElementById("edit_project_members_selected").style.background     = "#fff5f5";
					  validation_pass = false;
				 }
				 
				 if(validation_pass){
					 document.getElementById("editProjectBtn").setAttribute('data-content',`
							  <button class="btn  btn-secondary btn-xs" onClick="sendDataForEditProject()" type="button" >Confirm</button>
							  	<button id="popOverCancel"  onClick="closeNewProjectPopOver()" class="btn  btn-secondary btn-xs" type="button" >Cancel</button> 
					 `);
					 
					 $('#editProjectBtn').popover('show');
					 
				 }else{
					 editValidationMessage();
				 }

			 }
			 
			 

		}
		
		
		function editProject(project_name){
			//alert(JSON.stringify(window.project_data));
			//alert(window.project_data.name)
			document.getElementById('edit_project_id').value = window.project_data.id;
			document.getElementById('edit_project_name').value = window.project_data.name;
			document.getElementById('edit_project_description').value = window.project_data.description;
			document.getElementById('edit_project_importance').value = (!window.project_data.importance)? 'None' : window.project_data.importance;
			document.getElementById('edit_project_deadline').value = window.project_data.deadline;
			document.getElementById('edit_project_approved_person').value = window.project_data.person_to_approve;
			//document.getElementById('edit_project_members_selected').value = 'Glorimar';
			
			$('select[name=edit_approval]').val(window.project_data.members_name);
			$('.selectpicker').selectpicker('refresh')
			
			for(i = 0; i < window.project_data.media_channel.length; i++){
				document.getElementById('edit_' + window.project_data.media_channel[i]).checked = true;
			}
			
			$('#editModal').modal('show');
		}
		
		
		var project_data = {};
		function showEditProject(project_name){
			
			var temp_json = {};
			temp_json['id'] = project_name;
			var http = new XMLHttpRequest();
			  http.onreadystatechange = function(){
			      if(this.readyState == 4 && this.status == 200){
			    	  window.project_data = JSON.parse(this.responseText);
			    	  editProject();
			      }else if (this.readyState == 4){
			    	  
			      }  
			  };
			  http.open("GET", "/getProjectData/" + project_name, true);
			  http.send(null);
			  
		}
		
		function deleteProjectPopOver(project_name){
			 document.getElementById("deleteProject" + project_name).setAttribute('data-content',`
					  <button class="btn  btn-secondary btn-xs" onClick= ` + "\"deleteProject('" +  project_name  + "')\"" + ` type="button" >Confirm</button>
					  	<button id="popOverCancel"  onClick=` + "\"closeDeletePopOver('" +  project_name  + "')\"" + ` class="btn  btn-secondary btn-xs" type="button" >Cancel</button> 
			 `);
			$('#deleteProject' + project_name).popover('show');
		}
		function closeDeletePopOver(project_name){
			$('#deleteProject' + project_name).popover('hide');
		}
		
		//--------------------------------------
		//clear modal
		//--------------------------------------
		function clearNewProjectModal(){
			document.getElementById("project_name").value = "";
			document.getElementById("project_deadline").value = "";
			document.getElementById("project_approved_person").value = "";
			
			document.getElementById("facebook").checked = false;
			document.getElementById("email").checked = false
			document.getElementById("newspaper").checked = false
			
			document.getElementById("nameBox").innerHTML = `<input type="text" onclick="resetNameColor()" class="form-control" id="project_name" placeholder="Enter project name" name="project_name" required>`;			
			document.getElementById('add_project_validation_message').innerHTML = "";
			document.getElementById("project_members_selected_div").style.backgroundColor = "#ffffff";
			document.getElementById("project_members_selected_div").style.borderColor     = "#ffffff";
			
			$('select[name=approval]').val([]);
			//document.getElementById("project_name").style.backgroundColor = "#ffffff";
			//document.getElementById("project_name").style.borderColor     = "#ffffff";
			
 			
		}
		
		function clearEditProjectModal(){
			document.getElementById("edit_project_name").style.backgroundColor = "#ffffff";
			  document.getElementById("edit_project_name").style.borderColor     = "#e6e6e6";
			  document.getElementById("edit_project_name").style.borderWidth     = "2px"
			  document.getElementById("edit_project_name").style.color           = "#0";
			  document.getElementById("edit_project_members_selected_div").style.backgroundColor = "#ffffff";
				document.getElementById("edit_project_members_selected_div").style.borderColor     = "#e6e6e6";

		}
		
		function resetNameColor(){
			document.getElementById("project_name").style.backgroundColor = "#ffffff";
			  document.getElementById("project_name").style.borderColor     = "#e6e6e6";
			  document.getElementById("project_name").style.borderWidth     = "2px"
			  document.getElementById("project_name").style.color           = "#0";
		}
		function resetMembersColor(){
			document.getElementById("project_members_selected_div").style.backgroundColor = "#ffffff";
			document.getElementById("project_members_selected_div").style.borderColor     = "#e6e6e6";
		}
		
		
		function setProjects(){
			html_string_projects = "";
			
			
			html_string_projects += `
		    	 <div class="list-group list-group-flush small">   	
		     	`;	
		     	
		  for(i in userProjects){
			  document.getElementById("current_name").innerHTML = userProjects[i].current_user_name;
			  document.getElementById("profile_pic").src = 'static/img/' + userProjects[i].current_user_name + '.jpg';
			  var temp_deadline = (userProjects[i].deadline == "") ? "None" : userProjects[i].deadline;
			  html_string_projects += `
		        	 <a class="list-group-item list-group-item-action" href=` + "\"/project?name=" + userProjects[i].name + "&id=" + userProjects[i].id + "\"" + `>
							  <div class="media">
			                  <div class="media-body">
			                  <div class="row">
				               	<div class="col-sm-12 my-auto">
				               		<div class="row">
				               			<div class="col-sm-4">
				                  		<div class="h4 mb-0 text-primary">` + userProjects[i].name + `</div>
				                  		<div class="small text-muted">Owner: ` + userProjects[i].owner + `</div>
				                  	</div>
				                  	<div class="col-sm-2">
			                  			<div class="h4 mb-0 ">` +  temp_deadline + `</div>
			                  		</div>
			                  		<div class="col-sm-4">
				                  		<div class="h4 mb-0 ">
			                  	`;
			   
			  for(j in userProjects[i].members_profile_pic) {
					html_string_projects += `
				            		<img class="nav-item rounded-circle d-flex" data-toggle="tooltip"  id="profile_pic" style="width: 8%; float: left" src= ` + "\"" +   userProjects[i].members_profile_pic[j] + "\"" + `></img>
				            		`;    
				            }  
			   var temp_delete_visibility = (userProjects[i].current_user == userProjects[i].owner)? " data-trigger='manual' title='Are you sure?'" : "disabled data-toggle='tooltip' title='Just owners can delete projects'";
			   var temp_edit_visibility = (userProjects[i].current_user == userProjects[i].owner)? "" : "disabled data-toggle='tooltip' title='Just owners can edit projects'";
			   
			   html_string_projects +=	`
			   											</div>
			   										</div>
			   										<div class="col-sm-2">
							                  		<div class="h4 mb-0 ">
							                  		<button id= ` + "'editProject" +   userProjects[i].id + "'" +   temp_edit_visibility + ` class="btn  btn-outline-primary btn-xs" onClick=` + "\"showEditProject('" +   userProjects[i].id + "')\"" + ` type="button" ><i class="fa fa-edit"></i>Edit</button> 
							                  		<button id= ` + "'deleteProject" +   userProjects[i].id + "'" +  temp_delete_visibility +` class="btn  btn-outline-danger btn-xs"  data-container="body" data-html="true" data-toggle="popover" data-placement="top" href="#" onClick= ` + "\"deleteProjectPopOver('" +   userProjects[i].id + "')\"" + ` type="button" ><i class="fa fa-trash"></i>Delete</button>
			   														</div>
			   										</div>
				   								</div>
			                  </div>
			                  </div>
			                  </div>
			           </div>
		           </a>
		            `;
		       	
		     }
		  html_string_projects += `</div>`;
		      document.getElementById('projects').innerHTML += html_string_projects;
		}
		 
	
		$(function () {
			  $('[data-toggle="popover"]').popover(
					  
					  {
						  html: true,
						  
						}
					 
			  
			  )
			});
		


		function closeNewProjectPopOver(){
			
			$('#addBtn').popover('hide');
		}
		


			


 </script>
 
 
 <!-- Optional JavaScript -->
   <!-- ---------------------- -->
  <!--   DEPENDENCIAS PARA EL MULTIPLE SELECT -->
  <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>	
 
  
</body>

</html>
